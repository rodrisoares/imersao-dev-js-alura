var cartaSupergirl = {
    nome: "Supergirl / Kara Zor-El",
    imagem: "https://avatarfiles.alphacoders.com/115/thumb-115438.jpg",
    atributos: {
    ataque:99,
    defesa:89,
    poder:67
    }
  }
  
  var cartaArrow = {
    nome: "Green Arrow / Oliver Queen",
    imagem: "https://avatarfiles.alphacoders.com/270/thumb-270513.png",
    atributos: {
    ataque:70,
    defesa:65,
    poder:78
    }
  }
  
  var cartaWonderWoman = {
    nome: "Wonder Woman / Diana Prince",
    imagem: "https://wallpapercave.com/wp/wp7325571.jpg",
    atributos: {
    ataque:93,
    defesa:89,
    poder:82
    }
  }
  
  var cartaSuperman = {
    nome: "Superman / Kal-El",
    imagem: "https://avatarfiles.alphacoders.com/234/thumb-234586.jpg",
    atributos: {
    ataque:98,
    defesa:90,
    poder:69
    }
  }
  
  var cartaBatman = {
    nome: "Batman / Bruce Wayne",
    imagem: "https://rollingstone.uol.com.br/media/_versions/cropped-batman-lista-1-1_widelg.jpg",
    atributos: {
    ataque:88,
    defesa:87,
    poder:96
    }
  }
  
  var cartaFlash = {
    nome: "Flash / Barry Allen",
    imagem: "https://avatarfiles.alphacoders.com/915/thumb-91512.jpg",
    atributos: {
    ataque:90,
    defesa:87,
    poder:90
    }
  }
  
  var cartaAquaman = {
    nome: "Aquaman / Arthur Curry",
    imagem: "https://proibidoler.com/wp-content/uploads/2014/02/Aquaman-trident-pose.jpg",
    atributos: {
    ataque:85,
    defesa:83,
    poder:74
    }
  }
  
  var cartaShazam = {
    nome: "Shazam / Billy Batson",
    imagem: "https://avatarfiles.alphacoders.com/180/thumb-1920-180257.jpg",
    atributos: {
    ataque:90,
    defesa:87,
    poder:75
    }
  }
  
  var cartaCacadorMarte = {
    nome: "Martian Manhunter / J'onn J'onzz",
    imagem: "https://wallpaperaccess.com/full/1996635.jpg",
    atributos: {
    ataque:96,
    defesa:91,
    poder:94
    }
  }
  
  var cartaLanternaVerde = {
    nome: "Green Lantern / Hal Jordan",
    imagem: "https://avatarfiles.alphacoders.com/244/thumb-244181.png",
    atributos: {
    ataque:91,
    defesa:87,
    poder:86
    }
  }
  
  var cartaBatgirl = {
    nome: "Batgirl / Barbara Gordon",
    imagem: "https://avatarfiles.alphacoders.com/233/thumb-233225.jpg",
    atributos: {
    ataque:64,
    defesa:59,
    poder:83
    }
  }
  
  var cartaBatwoman = {
    nome: "Batwoman / Kate Kane",
    imagem: "https://vistapointe.net/images/batwoman-wallpaper-18.jpg",
    atributos: {
    ataque:72,
    defesa:70,
    poder:81
    }
  }
  
  var cartaCanarioNegro = {
    nome: "Black Canary / Dinah Laurel Lance",
    imagem: "https://i.pinimg.com/originals/0d/84/3a/0d843a575ccfa858b1552714317f8e68.jpg",
    atributos: {
    ataque:80,
    defesa:82,
    poder:83
    }
  }
  
  var cartaAsaNoturna = {
    nome: "Nightwing / Dick Grayson",
    imagem: "https://avatarfiles.alphacoders.com/736/thumb-73626.jpg",
    atributos: {
    ataque:81,
    defesa:78,
    poder:76
    }
  }
  
  var cartaRavena = {
    nome: "Raven / Rachel Roth",
    imagem: "https://jovemnerd.com.br/wp-content/uploads/ads_ravena.jpg",
    atributos: {
    ataque:90,
    defesa:87,
    poder:90
    }
  }
  
  var cartaCiborgue = {
    nome: "Cyborgue / Victor Stone",
    imagem: "https://kanto.legiaodosherois.com.br/w760-h398-gnw-cfill-q80/wp-content/uploads/2018/08/legiao_2cnM8s3THtrXWSEF9L_huIzRkolU0wZmPdiegCYvyV.jpg.jpeg",
    atributos: {
    ataque:95,
    defesa:92,
    poder:98
    }
  }
  
  var cartaEstelar = {
    nome: "Starfire / Koriand'r",
    imagem: "https://www.hqzona.com.br/wp-content/uploads/2018/03/4-Starfire.jpg",
    atributos: {
    ataque:81,
    defesa:77,
    poder:61
    }
  }
  
  var cartaRobin = {
    nome: "Robin / Damian Wayne",
    imagem: "https://avatarfiles.alphacoders.com/172/thumb-172027.jpg",
    atributos: {
    ataque:78,
    defesa:75,
    poder:54
    }
  }
  
  var cartaMutano = {
    nome: "Beast Boy / Garfield Logan",
    imagem: "https://upload.wikimedia.org/wikipedia/en/thumb/0/09/Beast_Boy_%28DC_Rebirth_version%29.jpg/250px-Beast_Boy_%28DC_Rebirth_version%29.jpg",
    atributos: {
    ataque:76,
    defesa:73,
    poder:51
    }
  }
  
  var cartaSenhorDestino = {
    nome: "Doctor Fate / ID Desconhecido",
    imagem: "https://vistapointe.net/images/dr-fate-3.jpg",
    atributos: {
    ataque:93,
    defesa:90,
    poder:94
    }
  }
  
  var cartaZatanna = {
    nome: "Zatanna / Zatanna Zatara",
    imagem: "https://images-na.ssl-images-amazon.com/images/I/51j+BhYK7sL._SX331_BO1,204,203,200_.jpg",
    atributos: {
    ataque:86,
    defesa:85,
    poder:83
    }
  }
  
  var cartaArlequina = {
    nome: "Harley Quinn / Harleen Quinzel",
    imagem: "https://i.pinimg.com/originals/9f/02/16/9f02161612697afeee6249693c3b6582.jpg",
    atributos: {
    ataque:71,
    defesa:69,
    poder:82
    }
  }
  
  var cartaHeraVenenosa = {
    nome: "Poison Ivy / Dr. Pamela Isley",
    imagem: "https://imgix-media.wbdndc.net/cms/filer_public/af/0a/af0aadf2-9cac-416d-8366-985559cda304/poisonivyvsdc_news_hero-c_v1_200129.jpg",
    atributos: {
    ataque:73,
    defesa:68,
    poder:83
    }
  }
  
  var cartaCoringa = {
    nome: "Joker / Nome Desconhecido",
    imagem: "https://www.aliancanerd.com.br/conteudo/wp-content/uploads/2020/03/Captura-de-Tela-353.png",
    atributos: {
    ataque:69,
    defesa:67,
    poder:70
    }
  }
  
  var cartaMulherGaviao = {
    nome: "Hawkwoman / Shayera Hall",
    imagem: "https://terraverso.com.br/wp-content/uploads/2020/05/Design-sem-nome.png",
    atributos: {
    ataque:90,
    defesa:88,
    poder:79
    }
  }
  
  var cartaGaviaoNegro = {
    nome: "Hawkman / Carter Hall",
    imagem: "https://www.cabanadoleitor.com.br/wp-content/uploads/2019/03/MX2ZVG3E2YYUXKSOURB7RPES5U.jpg",
    atributos: {
    ataque:92,
    defesa:89,
    poder:79
    }
  }
  
  var cartaAdaoNegro = {
    nome: "Black Adam / Teth-Adam",
    imagem: "https://comicvine1.cbsistatic.com/uploads/square_medium/11129/111295277/5722430-black%20adam.jpg",
    atributos: {
    ataque:90,
    defesa:89,
    poder:80
    }
  }
  
  var cartaExterminador = {
    nome: "Deathstroke / Slade Wilson",
    imagem: "https://s.aficionados.com.br/imagens/exterminador-origem_cke.jpg",
    atributos: {
    ataque:88,
    defesa:90,
    poder:87
    }
  }
  
  var cartaMaquina
  var cartaJogador
  var cartas = [cartaSupergirl, cartaArrow, cartaWonderWoman, cartaSuperman, cartaBatman, cartaFlash, cartaAquaman, cartaShazam, cartaCacadorMarte, cartaLanternaVerde, cartaBatgirl, cartaBatwoman, cartaCanarioNegro, cartaAsaNoturna, cartaRavena, cartaCiborgue, cartaEstelar, cartaRobin, cartaMutano, cartaSenhorDestino, cartaZatanna, cartaArlequina, cartaHeraVenenosa, cartaCoringa, cartaMulherGaviao, cartaGaviaoNegro, cartaAdaoNegro, cartaExterminador]
  
  var pontosJogador = 0
  var pontosMaquina = 0
  atualizaPlacar()
  atualizaQuantidadeDeCartas()
  
  function atualizaQuantidadeDeCartas(){
    var divQuantidadeCartas = document.getElementById('quantidade-cartas')
    var html = "Quantidade de cartas no jogo: " + cartas.length
    divQuantidadeCartas.innerHTML = html
  }
  
  function atualizaPlacar() {
    var divPlacar = document.getElementById('placar')
    var html = "Jogador " + pontosJogador + "/" + pontosMaquina  + " Maquina"
    divPlacar.innerHTML = html
  }
  
  
  function sortearCarta(){
    var numeroCartaMaquina = parseInt(Math.random()*cartas.length)
    cartaMaquina = cartas[numeroCartaMaquina]
    cartas.splice(numeroCartaMaquina, 1 )
    
    var numeroCartaJogador = parseInt(Math.random()*cartas.length)
    cartaJogador = cartas [numeroCartaJogador]
    cartas.splice(numeroCartaJogador, 1 )
    
    document.getElementById('btnSortear').disabled = true
    document.getElementById('btnJogar').disabled = false
    exibeCartaJogador()
  }
  
  function  exibeCartaJogador(){
    var divCartaJogador = document.getElementById("carta-jogador")
   var moldura = '<img src="https://www.alura.com.br/assets/img/imersoes/dev-2021/card-super-trunfo-transparent.png" style=" width: inherit; height: inherit; position: absolute;">';  divCartaJogador.style.backgroundImage=`url(${cartaJogador.imagem})`
    var nome = `<p class="carta-subtitle">${cartaJogador.nome}</p>`
    var opcoesTexto =""
    
    for (var atributo in cartaJogador.atributos){
       opcoesTexto += "<input type ='radio' name = 'atributo' value ='" + atributo + "'>" + atributo +" " + cartaJogador.atributos[atributo] + "<br>"
      
    }  
    var html = "<div id='opcoes' class='carta-status'>"
    
    divCartaJogador.innerHTML =moldura+ nome + html+ opcoesTexto+'</div>'
  }
  
  function exibirOpcoes(){
    var opcoes = document.getElementById('opcoes')
    var opcoesTexto= ""
    
  }
  
  function obtemAtributoSelecionado(){
    var radioAtributo = document.getElementsByName('atributo')
    for (var i = 0; i <radioAtributo.length; i++){
      if (radioAtributo [i].checked){
        return radioAtributo[i].value
      }
    } 
  }
  
  function jogar(){
    var divResultado = document.getElementById("resultado")
    var atributoSelecionado = obtemAtributoSelecionado()
    
    if(cartaJogador.atributos[atributoSelecionado] > cartaMaquina.atributos[atributoSelecionado]){
      htmlResultado = '<p class="resultado-final">Você venceu a máquina!!!</p>'
      pontosJogador++
    } else if(cartaJogador.atributos[atributoSelecionado] < cartaMaquina.atributos[atributoSelecionado]){
     htmlResultado = '<p class="resultado-final">Você perdeu!</p>'
      pontosMaquina++
    }else {
       htmlResultado = '<p class="resultado-final">Empatou!</p>'
    }
    if(cartas.length == 0){
      alert("Fim de Jogo")
      if(pontosJogador > pontosMaquina){
        htmlResultado = '<p class="resultado-final">Venceu</p>'
      } else if( pontosMaquina > pontosJogador) {
        htmlResultado = '<p class="resultado-final">Perdeu</p>'
      } else{
        htmlResultado = '<p class="resultado-final">Empatou</p>'
      }
    }else{
     document.getElementById('btnProximaRodada').disabled = false
    }
    
    divResultado.innerHTML = htmlResultado
    document.getElementById('btnJogar').disabled = true
    
    
    atualizaPlacar()
    exibeCartaMaquina()
    atualizaQuantidadeDeCartas()
  }
  
  function exibeCartaMaquina(){
   var divCartaMaquina = document.getElementById("carta-maquina")
   var moldura = '<img src="https://www.alura.com.br/assets/img/imersoes/dev-2021/card-super-trunfo-transparent.png" style=" width: inherit; height: inherit; position: absolute;">';  divCartaMaquina.style.backgroundImage=`url(${cartaMaquina.imagem})`
    var nome = `<p class="carta-subtitle">${cartaMaquina.nome}</p>`
    var opcoesTexto =""
    
    for (var atributo in cartaMaquina.atributos){
       opcoesTexto += "<p type ='text' name = 'atributo' value ='" + atributo + "'>" + atributo +" " + cartaMaquina.atributos[atributo] + "</p>"
      
    }  
    var html = "<div id='opcoes' class='carta-status --spacing'>"
    
    divCartaMaquina.innerHTML =moldura+ nome + html+ opcoesTexto+'</div>' 
  }
  
  function proximaRodada(){
    var divCartas = document.getElementById('cartas')
    
    divCartas.innerHTML = `<div id="carta-jogador" class="carta"></div> <div id="carta-maquina" class="carta"></div>`
   document.getElementById('btnSortear').disabled = false
   document.getElementById('btnJogar').disabled = true
   document.getElementById('btnProximaRodada').disabled = true 
    
   var divResultado = document.getElementById('resultado')
   divResultado.innerHTML = ""
    
  }